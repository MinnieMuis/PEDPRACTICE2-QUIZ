<!doctype html>
<html lang="en">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3446772013721271"
     crossorigin="anonymous"></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Power Electronic Devices — Exam Quiz</title>
  <style>
    body{font-family:Inter,ui-sans-serif,system-ui; background:#0f1724; color:#e6eef6; margin:0; padding:24px}
    .container{max-width:900px;margin:0 auto}
    header{margin-bottom:18px}
    h1{margin:0;font-size:22px}
    .card{background:#08121b; padding:18px; border-radius:12px; box-shadow:0 6px 18px rgba(2,6,23,0.6)}
    .section{margin-top:18px}
    .q{margin:12px 0; padding:10px; border-radius:8px; background:#0b1926}
    label{display:block;font-weight:600;margin-bottom:6px}
    .options{display:flex;flex-direction:column;gap:8px}
    input[type='text'], input[type='number'], textarea{width:100%;padding:8px;border-radius:6px;border:1px solid #334155;background:transparent;color:inherit}
    .btn{padding:10px 14px;border-radius:8px;background:#0ea5a3;color:#042022;font-weight:700;border:none;cursor:pointer}
    .muted{color:#94a3b8;font-size:13px}
    .result{margin-top:12px;padding:12px;border-radius:8px;background:#02262a;font-weight:700}
    .timer{font-weight:700;color:#facc15;float:right}
    .feedback{font-size:13px;margin-top:4px;color:#38bdf8}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="card">
        <h1>Power Electronic Devices — Exam (Interactive)</h1>
        <div class="muted">Answer MCQs and written questions. Timer runs automatically. Exam ends after 45 minutes.</div>
        <div class="timer" id="timer">00:00</div>
      </div>
    </header>

    <div class="card">
      <form id="examForm">
        <div class="section">
          <h3>Student Information</h3>
          <div class="q"><label>Name:</label><input type="text" name="studentName" required></div>
          <div class="q"><label>Student ID:</label><input type="text" name="studentId" required></div>
        </div>

        <div class="section">
          <h3>Section D — Multiple Choice (20 marks, auto-graded)</h3>
          <div id="mcqs"></div>
        </div>

        <div class="section">
          <h3>Section A — Short Answers (4 marks each)</h3>
          <div class="q">
            <label>Q1. Define power electronics and list the four main power conversions.</label>
            <textarea rows="3" name="a1"></textarea>
            <input type="number" min="0" max="4" step="0.25" class="score" data-question="A1">
          </div>
          <div class="q">
            <label>Q2. Distinguish between uncontrolled, semi-controlled, and fully controlled devices.</label>
            <textarea rows="3" name="a2"></textarea>
            <input type="number" min="0" max="4" step="0.25" class="score" data-question="A2">
          </div>
        </div>

        <div class="section">
          <h3>Section B — Structured Questions (10 marks each)</h3>
          <div class="q">
            <label>Q8. With diagram, explain forward and reverse bias characteristics of a diode.</label>
            <textarea rows="3" name="b1"></textarea>
            <input type="number" min="0" max="10" step="0.5" class="score" data-question="B1">
          </div>
          <div class="q">
            <label>Q9. Draw and explain V–I characteristics of an SCR, indicating regions.</label>
            <textarea rows="3" name="b2"></textarea>
            <input type="number" min="0" max="10" step="0.5" class="score" data-question="B2">
          </div>
        </div>

        <div class="section">
          <h3>Section C — Problems (15 marks each)</h3>
          <div class="q">
            <label>Q13. With diagrams, explain reverse recovery characteristics of a diode.</label>
            <textarea rows="4" name="c1"></textarea>
            <input type="number" min="0" max="15" step="0.5" class="score" data-question="C1">
          </div>
          <div class="q">
            <label>Q14. (a) Draw SCR construction. (b) Explain methods of triggering and why gate triggering is preferred.</label>
            <textarea rows="4" name="c2"></textarea>
            <input type="number" min="0" max="15" step="0.5" class="score" data-question="C2">
          </div>
        </div>

        <button type="button" class="btn" id="gradeBtn">Calculate Final Mark</button>
        <div id="resultArea"></div>
      </form>
    </div>
  </div>

  <script>
    // Timer with 45-min stop
    let sec=0;let timerInt=setInterval(()=>{
      sec++;
      let m=Math.floor(sec/60),s=sec%60;
      document.getElementById('timer').textContent=`${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
      if(sec>=2700){ // 45 min
        clearInterval(timerInt);
        document.getElementById('gradeBtn').disabled=true;
        alert("Time is up! Exam ended.");
      }
    },1000);

    // 20 MCQs (PED)
    const mcqs=[
      {q:"Power electronics mainly deals with:",opts:["Signal processing","Power conversion and control","Communication systems","Electromagnetic fields"],a:1},
      {q:"A diode that allows current flow only in one direction is called:",opts:["Zener diode","Power diode","Tunnel diode","Varactor diode"],a:1},
      {q:"Forward voltage drop of silicon diode is:",opts:["0.1 V","0.3 V","0.7 V","1.5 V"],a:2},
      {q:"NOT a power semiconductor device:",opts:["MOSFET","BJT","Thyristor (SCR)","Operational Amplifier"],a:3},
      {q:"An SCR is:",opts:["2-layer, 3-terminal","3-layer, 2-terminal","4-layer, 3-terminal","4-layer, 4-terminal"],a:2},
      {q:"SCR terminals:",opts:["Collector, Base, Emitter","Anode, Cathode, Gate","Drain, Source, Gate","Plate, Cathode, Grid"],a:1},
      {q:"Minimum current to maintain conduction in SCR:",opts:["Peak","Latching","Holding","Breakdown"],a:2},
      {q:"dv/dt triggering of SCR occurs due to:",opts:["Excessive forward current","High rate of rise of voltage","Gate current","Reverse recovery"],a:1},
      {q:"Device with highest input impedance:",opts:["SCR","MOSFET","BJT","Diode"],a:1},
      {q:"Most common SCR triggering:",opts:["dv/dt","Gate","Forward voltage","Thermal"],a:1},
      {q:"UJT negative resistance region used for:",opts:["Amplification","Oscillation and triggering","Rectification","Filtering"],a:1},
      {q:"Isolation device using light:",opts:["Transformer","Optocoupler","UJT","Varistor"],a:1},
      {q:"Power vs signal diode difference:",opts:["Principle","Size & capacity","Terminals","Direction"],a:1},
      {q:"Reverse recovery important in:",opts:["Low-frequency","High-frequency circuits","DC only","Resistive"],a:1},
      {q:"MOSFET conduction controlled by:",opts:["Base current","Gate voltage","Collector current","Anode voltage"],a:1},
      {q:"No reverse recovery problem:",opts:["SCR","Power diode","Schottky diode","MOSFET"],a:2},
      {q:"Latching current of SCR is:",opts:["Less than holding","Equal","Greater than holding","Independent"],a:2},
      {q:"Cycloconverter converts:",opts:["AC→DC","DC→AC","AC→AC diff freq","DC→DC"],a:2},
      {q:"Optocouplers preferred because:",opts:["Amplification","Isolation","Power gain","Frequency mult"],a:1},
      {q:"MOSFET ohmic region is:",opts:["Cut-off","Ohmic","Saturation","Breakdown"],a:1}
    ];

    const mcqContainer=document.getElementById('mcqs');
    mcqs.forEach((m,i)=>{
      let d=document.createElement('div');d.className='q';
      let l=document.createElement('label');l.textContent=(i+1)+'. '+m.q;d.appendChild(l);
      let o=document.createElement('div');o.className='options';
      m.opts.forEach((opt,j)=>{
        let id='mcq_'+i+'_'+j;
        let lab=document.createElement('label');lab.innerHTML=`<input type="radio" name="mcq_${i}" value="${j}"> ${opt}`;o.appendChild(lab);
      });
      d.appendChild(o);
      let fb=document.createElement('div');fb.className='feedback';fb.id='fb_'+i;d.appendChild(fb);
      mcqContainer.appendChild(d);
    });

    document.getElementById('gradeBtn').addEventListener('click',()=>{
      let mcqScore=0;
      mcqs.forEach((m,i)=>{
        let r=document.querySelector('input[name="mcq_'+i+'"]:checked');
        let fb=document.getElementById('fb_'+i);
        if(r){
          if(parseInt(r.value)===m.a){mcqScore++;fb.textContent="Correct!";fb.style.color="#22c55e";}
          else{fb.textContent="Wrong. Correct answer: "+m.opts[m.a];fb.style.color="#ef4444";}
        } else {
          fb.textContent="No answer. Correct: "+m.opts[m.a];fb.style.color="#f97316";
        }
      });

      let manualTotal=0,manualMax=0;
      document.querySelectorAll('.score').forEach(inp=>{
        let max=0;if(inp.dataset.question?.startsWith('A'))max=4;else if(inp.dataset.question?.startsWith('B'))max=10;else if(inp.dataset.question?.startsWith('C'))max=15;
        let val=parseFloat(inp.value)||0;manualTotal+=val;manualMax+=max;
      });
      let total=mcqScore+manualTotal;let max=20+manualMax;let pct=(total/max*100).toFixed(2);
      document.getElementById('resultArea').innerHTML=`<div class="result">MCQs: ${mcqScore}/20<br>Written: ${manualTotal}/${manualMax}<br><strong>Total: ${total}/${max} (${pct}%)</strong></div>`;
    });
  </script>
</body>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3446772013721271"
     crossorigin="anonymous"></script>
</html>
